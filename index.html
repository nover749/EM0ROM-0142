<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Web Emulator (Working)</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
margin:0;
background:black;
color:#0f0;
font-family:monospace;
display:flex;
flex-direction:column;
align-items:center;
/* scrolling enabled */
}
#controls{margin:12px;text-align:center;}
label{display:block;margin-top:6px;}
select,input,button{
padding:8px;
margin:4px;
background:#000;
color:#0f0;
border:1px solid #0f0;
}
#game{
width:800px;
height:600px;
border:2px solid #0f0;
background:black;
margin-top:12px;
}
</style>
</head>
<body>

<h2>Web Emulator (Powered by EmulatorJS)</h2>

<div id="controls">
<label>ROM File</label>
<input type="file" id="romPicker">

<label>BIOS File (optional)</label>
<input type="file" id="biosPicker">

<select id="system">
<option value="">Select System</option>

<!-- Nintendo -->
<option value="nes">NES</option>
<option value="fds">Famicom Disk System</option>
<option value="snes">SNES</option>
<option value="n64">Nintendo 64</option>
<option value="gb">Game Boy</option>
<option value="gbc">Game Boy Color</option>
<option value="gba">Game Boy Advance</option>
<option value="nds">Nintendo DS</option>
<option value="vb">Virtual Boy</option>

<!-- Sega -->
<option value="sms">Sega Master System</option>
<option value="gamegear">Game Gear</option>
<option value="genesis">Genesis / Mega Drive</option>
<option value="sega32x">Sega 32X</option>
<option value="segacd">Sega CD</option>
<option value="saturn">Sega Saturn</option>
<option value="dreamcast">Dreamcast</option>

<!-- Sony -->
<option value="psx">PlayStation</option>
<option value="psp">PlayStation Portable</option>

<!-- NEC -->
<option value="pce">PC Engine</option>
<option value="pcecd">PC Engine CD</option>
<option value="pcfx">PC-FX</option>

<!-- SNK -->
<option value="neogeo">Neo Geo</option>
<option value="ngp">Neo Geo Pocket</option>
<option value="ngpc">Neo Geo Pocket Color</option>

<!-- Atari -->
<option value="atari2600">Atari 2600</option>
<option value="atari5200">Atari 5200</option>
<option value="atari7800">Atari 7800</option>
<option value="lynx">Atari Lynx</option>
<option value="jaguar">Atari Jaguar</option>

<!-- Bandai -->
<option value="wonderswan">WonderSwan</option>
<option value="wonderswancolor">WonderSwan Color</option>

<!-- Arcade -->
<option value="fbneo">FinalBurn Neo</option>
<option value="mame2003">MAME 2003</option>
<option value="mame2010">MAME 2010</option>

<!-- Computers -->
<option value="dos">MS-DOS</option>
<option value="amiga">Amiga</option>
<option value="c64">Commodore 64</option>
<option value="zxspectrum">ZX Spectrum</option>
<option value="msx">MSX</option>
<option value="msx2">MSX2</option>

<!-- Other -->
<option value="coleco">ColecoVision</option>
<option value="intellivision">Intellivision</option>
<option value="3do">Panasonic 3DO</option>
</select>

<br>
<button id="startBtn">Start Game</button>
</div>

<div id="game"></div>

<script>
/* Prevent arrow keys & space from scrolling page */
window.addEventListener("keydown",e=>{
if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key)){
e.preventDefault();
}
},{passive:false});

document.getElementById("startBtn").onclick=()=>{
const rom=document.getElementById("romPicker").files[0];
const bios=document.getElementById("biosPicker").files[0];
const system=document.getElementById("system").value;

if(!rom||!system){
alert("Select a ROM and system.");
return;
}

document.getElementById("game").innerHTML="";

const coreFix={gbc:"gb",fds:"nes"};

window.EJS_player="#game";
window.EJS_core=coreFix[system]||system;
window.EJS_gameUrl=URL.createObjectURL(rom);
window.EJS_pathtodata="https://cdn.emulatorjs.org/stable/data/";
window.EJS_startOnLoaded=true;

if(bios){
window.EJS_biosUrl=URL.createObjectURL(bios);
}else{
delete window.EJS_biosUrl;
}

const s=document.createElement("script");
s.src="https://cdn.emulatorjs.org/stable/data/loader.js";
document.body.appendChild(s);
};
</script>

</body>
</html>
